# ===============================
# Configuração do Banco PostgreSQL
# ===============================
spring.datasource.url=jdbc:postgresql://localhost:5432/NutriX
spring.datasource.username=postgres
spring.datasource.password=sander

# Driver
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================
# Configuração do Hibernate / JPA
# ===============================
# Atualiza as tabelas de acordo com as entidades
spring.jpa.hibernate.ddl-auto=update

# Dialeto do PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.max-lifetime=1800000

# Mostrar SQL no console
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Boa pratica tirar o Open Session in View
spring.jpa.open-in-view=false

# ===============================
# Configuração do Logging
# ===============================
# Nível de log para o Hibernate
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.boot.autoconfigure=INFO
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.transaction=DEBUG
logging.level.org.springframework.orm.jpa=DEBUG
logging.level.org.springframework.jdbc=DEBUG
logging.level.com.xertica=DEBUG
logging.level.org.springframework=INFO
logging.level.org.springframework.boot=INFO
logging.level.org.springframework.cloud=INFO
logging.level.org.springframework.cloud.netflix.eureka=INFO

# ===============================
# Configuração do Email
# ===============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${EMAIL_USERNAME}
spring.mail.password=${EMAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

spring.jackson.deserialization.accept-empty-string-as-null-object=true
ai.service.url=http://localhost:5000/ai/balance-diet